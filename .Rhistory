CensusDat = read.csv("Palm-LosAngelesRentalCensus.csv", sep=",", header=TRUE)
View(CensusDat)
ROIDat = read.csv("Palm-ROI_12.15.14.csv", sep=",", header=TRUE)
View(ROIDat)
CityRevenue = read.csv("Palm-ROI_cityrevenue.csv", sep=",", header=TRUE)
Jplaces = read.csv("Palm-ROI_JHFIT-places.csv", sep=",", header=TRUE)
Jhoods = read.csv("Palm-ROI_JHFIT-nhoods.csv", sep=",", header=TRUE)
str(CensusDat)
View(CensusDat)
str(ROIDat)
View(ROIDat)
ROIDat = ROIDat[2:8069, ]#Remove the excess headers in ROIdat
ROIDat = read.csv("Palm-ROI_12.15.14.csv", sep=",", header=TRUE)
CensusDat = read.csv("Palm-LosAngelesRentalCensus.csv", sep=",", header=TRUE)
#  Individual CSV files for the ROI data:
ROIDat = read.csv("Palm-ROI_12.15.14.csv", sep=",", header=TRUE)
CityRevenue = read.csv("Palm-ROI_cityrevenue.csv", sep=",", header=TRUE)
Jplaces = read.csv("Palm-ROI_JHFIT-places.csv", sep=",", header=TRUE)
Jhoods = read.csv("Palm-ROI_JHFIT-nhoods.csv", sep=",", header=TRUE)
#EXAMINE THE DATASETS
#Begin with CensusDat and ROI dat
str(CensusDat)
str(ROIDat)
View(ROIDat)
CensusDat = read.csv("Palm-LosAngelesRentalCensus.csv", sep=",", header=TRUE)
ROIDat = read.csv("Palm-ROI_new", sep=",", header=TRUE)
CityRevenue = read.csv("Palm-ROI_cityrevenue.csv", sep=",", header=TRUE)
Jplaces = read.csv("Palm-ROI_JHFIT-places.csv", sep=",", header=TRUE)
Jhoods = read.csv("Palm-ROI_JHFIT-nhoods.csv", sep=",", header=TRUE)
str(CensusDat)
str(ROIDat)
ROIDat = read.csv("Palm-ROI_new.csv", sep=",", header=TRUE)
str(ROIDat)
View(ROIDat)
ROIDat = ROIDat[-c(1:2), ]#Remove the excess headers in ROIdat
View(CensusDat)
str(ROIDat) #This data set is organized by
CensusDat = read.csv("Palm-LosAngelesRentalCensus.csv", sep=",", header=TRUE)
#  Individual CSV files for the ROI data:
ROIDat = read.csv("Palm-ROI_new.csv", sep=",", header=TRUE)
CityRevenue = read.csv("Palm-ROI_cityrevenue.csv", sep=",", header=TRUE)
Jplaces = read.csv("Palm-ROI_JHFIT-places.csv", sep=",", header=TRUE)
Jhoods = read.csv("Palm-ROI_JHFIT-nhoods.csv", sep=",", header=TRUE)
#EXAMINE THE DATASETS
#Begin with CensusDat and ROI dat
str(CensusDat)
str(ROIDat)
CensusDat = read.csv("Palm-LosAngelesRentalCensus.csv", sep=",", header=TRUE)
#  Individual CSV files for the ROI data:
ROIDat = read.csv("Palm-ROI_new.csv", sep=",")
CityRevenue = read.csv("Palm-ROI_cityrevenue.csv", sep=",", header=TRUE)
Jplaces = read.csv("Palm-ROI_JHFIT-places.csv", sep=",", header=TRUE)
Jhoods = read.csv("Palm-ROI_JHFIT-nhoods.csv", sep=",", header=TRUE)
View(ROIDat)
names(ROIDat) = as.character(ROIDat [3,])
ROIDat = ROIDat[3:nrow(ROIDat),]
ROIDat = read.csv("Palm-ROI_new.csv", sep=",")
CityRevenue = read.csv("Palm-ROI_cityrevenue.csv", sep=",", header=TRUE)
Jplaces = read.csv("Palm-ROI_JHFIT-places.csv", sep=",", header=TRUE)
Jhoods = read.csv("Palm-ROI_JHFIT-nhoods.csv", sep=",", header=TRUE)
#EXAMINE THE DATASETS
#Begin with CensusDat and ROI dat
str(CensusDat)
str(ROIDat) #This data set is organized by county name as the observations.
#Assign row 3 to the header and remove the header
names(ROIDat) = as.character(ROIDat [3,])
ROIDat = ROIDat[1:nrow(ROIDat),]
View(ROIDat)
ROIDat = ROIDat[2:nrow(ROIDat),]
ROIDat = ROIDat[1:nrow(ROIDat),]
View(ROIDat)
names(ROIDat) = as.character(ROIDat [1,])
names(ROIDat) = as.character(ROIDat [1,])
ROIDat = ROIDat[2:nrow(ROIDat),]
ROIDat = read.csv("Palm-ROI_new.csv", sep=",")
names(ROIDat) = as.character(ROIDat [2,]) #Assign row 2 names to the header
CensusDat = read.csv("Palm-LosAngelesRentalCensus.csv", sep=",", header=TRUE)
#  Individual CSV files for the ROI data:
ROIDat = read.csv("Palm-ROI_new.csv", sep=",")
CityRevenue = read.csv("Palm-ROI_cityrevenue.csv", sep=",", header=TRUE)
Jplaces = read.csv("Palm-ROI_JHFIT-places.csv", sep=",", header=TRUE)
Jhoods = read.csv("Palm-ROI_JHFIT-nhoods.csv", sep=",", header=TRUE)
#EXAMINE THE DATASETS
#Begin with CensusDat and ROI dat
str(CensusDat)
str(ROIDat) #This data set is organized by county name as the observations.
#Assign row 2  to the header and remove the header
names(ROIDat) = as.character(ROIDat [2,]) #Assign row 2 names to the header
ROIDat = ROIDat[2:nrow(ROIDat),] #Delete the first row
ROIDat = ROIDat[2:nrow(ROIDat),]
CensusDat = read.csv("Palm-LosAngelesRentalCensus.csv", sep=",", header=TRUE)
#  Individual CSV files for the ROI data:
ROIDat = read.csv("Palm-ROI_new.csv", sep=",")
CityRevenue = read.csv("Palm-ROI_cityrevenue.csv", sep=",", header=TRUE)
Jplaces = read.csv("Palm-ROI_JHFIT-places.csv", sep=",", header=TRUE)
Jhoods = read.csv("Palm-ROI_JHFIT-nhoods.csv", sep=",", header=TRUE)
#EXAMINE THE DATASETS
#Begin with CensusDat and ROI dat
str(CensusDat)
str(ROIDat) #This data set is organized by county name as the observations.
#Assign row 2  to the header and remove the header
names(ROIDat) = as.character(ROIDat [2,]) #Assign row 2 names to the header
ROIDat = ROIDat[2:nrow(ROIDat),] #Delete the first row
ROIDat = ROIDat[2:nrow(ROIDat),] #Delete the first row again
ROIDat = read.csv("Palm-ROI_new.csv", sep=",")
names(ROIDat) = as.character(ROIDat [3,]) #Assign row 2 names to the header
names(ROIDat) = as.character(ROIDat [2,]) #Assign row 2 names to the header
ROIDat = ROIDat[2:nrow(ROIDat),] #Delete the first row
ROIDat = ROIDat[2:nrow(ROIDat),] #Delete the first row again
ROIDat = read.csv("Palm-ROI_new.csv", sep=",")
str(ROIDat) #This data set is organized by county name as the observations.
ROIDat = read.csv("Palm-ROI_12.15.14.csv", sep=",")
View(ROIDat)
ROIDat = read.csv("Palm-ROI_12.15.14.csv", sep=",")
ROIDat = read.csv("Palm-ROI_12.15.14.csv", sep=",", header=TRUE)
View(ROIDat)
ROIDat = read.csv("Palm-ROI_new", sep=",", header=TRUE)
ROIDat = read.csv("Palm-ROI_new.csv", sep=",", header=TRUE)
names(ROIDat) = as.character(ROIDat [2,]) #Assign row 2 names to the header
names(ROIDat) = as.character(ROIDat [2,]) #Assign row 2 names to the header
ROIDat = ROIDat[2:nrow(ROIDat),] #Delete the first row
names(ROIDat) = as.character(ROIDat [2,]) #Assign row 2 names to the header
ROIDat = ROIDat[2:nrow(ROIDat),] #Delete the first row
ROIDat = read.csv("Palm-ROI_new.csv", sep=",", header=TRUE)
ROIDat = ROIDat[-c(2:2), ]
ROIDat = read.csv("Palm-ROI_new.csv", sep=",", header=TRUE)
ROIDat = ROIDat[-c(1:1), ]
names(ROIDat) = as.character(ROIDat [1,]) #Assign row 1 names to the header
ROIDat = ROIDat[2:nrow(ROIDat),] #Delete the first row
ROIDat = read.csv("Palm-ROI_new.csv", sep=",", header=TRUE)
ROIDat = ROIDat[-c(1:1), ]
colnames(ROIDat) = as.character(ROIDat [1,]) #Assign row 1 names to the header
ROIDat = ROIDat[2:nrow(ROIDat),] #Delete the first row
ROIDat = read.csv("Palm-ROI_new.csv", sep=",", header=TRUE)
ROIDat = ROIDat[-c(1:1), ]
colnames(ROIDat) = ROIDat [1,] #Assign row 1 names to the header
ROIDat = read.csv("Palm-ROI_new.csv", sep=",", header=TRUE)
ROIDat = ROIDat[-c(1:1), ]
colnames(ROIDat) = as.character(ROIDat [1,]) #Assign row 1 names to the header
ROIDat = ROIDat[3:nrow(ROIDat),] #Delete the first row
ROIDat = read.csv("Palm-ROI_new.csv", sep=",", header=TRUE)
ROIDat = ROIDat[-c(1:1), ]
names(ROIDat) = as.character(ROIDat [2,]) #Assign row 1 names to the header. ??Not sure why this doesn't work. Should I use the command colnames?
ROIDat = ROIDat[2:nrow(ROIDat),] #Delete the first row.
ROIDat = read.csv("Palm-ROI_new.csv", sep=",", header=TRUE)
ROIDat = ROIDat[-c(1:1), ]
colnames(ROIDat) = as.character(ROIDat [2,]) #Assign row 2 names to the header. ??Not sure why this doesn't work. Should I use the command colnames?
ROIDat = ROIDat[2:nrow(ROIDat),] #Define the dataset as rows 2 and beyond
ROIDat = read.csv("Palm-ROI_new.csv", sep=",", header=TRUE)
CityRevenue = read.csv("Palm-ROI_cityrevenue.csv", sep=",", header=TRUE)
Jplaces = read.csv("Palm-ROI_JHFIT-places.csv", sep=",", header=TRUE)
Jhoods = read.csv("Palm-ROI_JHFIT-nhoods.csv", sep=",", header=TRUE)
#EXAMINE THE DATASETS
#Begin with CensusDat and ROI dat
str(CensusDat)
str(ROIDat) #This data set is organized by county name as the observations.
#Delete row 1 since we don't need this header
ROIDat = ROIDat[-c(1:1), ]
#Assign row 2 to the header and remove the header
colnames(ROIDat) = as.character(ROIDat [2,])
ROIDat2 = read.csv("Palm-ROI_12.15.14.csv", sep=",", header=TRUE)
View(ROIDat2)
ROIDat2 = read.csv("Palm-ROI_12.15.14.csv", sep=",", header=TRUE)
ROIDat = ROIDat[-1, ]
View(ROIDat2)
ROIDat = ROIDat[-c(1), ]
ROIDat2 = ROIDat2[-1, ]
ROIDat2 = read.csv("Palm-ROI_12.15.14.csv", sep=",", header=TRUE)
colnames(ROIDat2) = as.character(ROIDat2 [2,]) #Assign row 2 names to the header. ??Not sure why this doesn't work. Should I use the command colnames? How could I have removed the header from the onset?
names(ROIDat2) = as.character(ROIDat2 [2,]) #Assign row 2 names to the header. ??Not sure why this doesn't work. Should I use the command colnames? How could I have removed the header from the onset?
ROIDat2 = read.csv("Palm-ROI_12.15.14.csv", sep=",", header=TRUE)
names(ROIDat2) = as.character(ROIDat2 [2,]) #Assign row 2 names to the header. ??Not sure why this doesn't work. Should I use the command colnames? How could I have removed the header from the onset?
ROIDat2 = ROIDat2[-1, ]
View(ROIDat2)
names(ROIDat2) = as.character(ROIDat2 [1,]) #Assign row 2 names to the header. ??Not sure why this doesn't work. Should I use the command colnames? How could I have removed the header from the onset?
ROIDat2 = read.csv("Palm-ROI_12.15.14.csv", sep=",", header=TRUE)
ROIDat2 = ROIDat2[-c(1:2), ]
ROIDat2 = read.csv("Palm-ROI_12.15.14.csv", sep=",", header=TRUE)
ROIDat2 = ROIDat2[-1, ]
str(ROIDat2)
ROIDat2 = read.csv("Palm-ROI_12.15.14.csv", sep=",", header=TRUE)
ROIDat2 = ROIDat2[c(2:8069), ]
ROIDat2 = read.csv("Palm-ROI_12.15.14.csv", sep=",", header=TRUE)
ROIDat2 = read.csv("Palm-ROI_12.15.14.csv", sep=",", header=TRUE)
ROIDat2 = read.csv("Palm-ROI_12.15.14.csv", sep=",")
View(ROIDat2)
names(ROIDat2) = as.character(ROIDat2 [2,]) #Assign row 2 names to the header. ??Not sure why this doesn't work. Should I use the command colnames? How could I have removed the header from the onset?
colnames(ROIDat2) = as.character(ROIDat2 [2,]) #Assign row 2 names to the header. ??Not sure why this doesn't work. Should I use the command colnames? How could I have removed the header from the onset?
View(ROIDat2)
rownames(ROIDat2) = as.character(ROIDat2 [2,]) #Assign row 2 names to the header. ??Not sure why this doesn't work. Should I use the command colnames? How could I have removed the header from the onset?
colnames(ROIDat2) = ROIDat2 [2,] #Assign row 2 names to the header. ??Not sure why this doesn't work. Should I use the command colnames? How could I have removed the header from the onset?
View(ROIDat2)
ROIDat2 = ROIDat2[-c(1:2), ]
ROIDat2 = read.csv("Palm-ROI_12.15.14.csv", sep=",")
colnames(ROIDat2) = as.character(ROIDat2 [2,]) #Assign row 2 names to the header. ??Not sure why this doesn't work. Should I use the as.character?
ROIDat2 = ROIDat2[-c(1:2), ] #Remove rows 1 and 2.
ROIDat = read.csv("Palm-ROI_12.15.14.csv", sep=",", header=TRUE)
colnames(ROIDat) = as.character(ROIDat [2,]) #Assign row 2 names to the header. ??Not sure why this doesn't work. Should I use the as.character?
View(ROIDat)
ROIDat = ROIDat[-c(1:2), ] #Remove rows 1 and 2.
rm(ROIDat2)
CensusDat = read.csv("Palm-LosAngelesRentalCensus.csv", sep=",", header=TRUE) #I had deleted the first header row for this csv file. Was running into issue deleting it with R alone.
#  Individual CSV files for the ROI data:
ROIDat = read.csv("Palm-ROI_12.15.14.csv", sep=",", header=TRUE)
CityRevenue = read.csv("Palm-ROI_cityrevenue.csv", sep=",", header=TRUE)
Jplaces = read.csv("Palm-ROI_JHFIT-places.csv", sep=",", header=TRUE)
Jhoods = read.csv("Palm-ROI_JHFIT-nhoods.csv", sep=",", header=TRUE)
colnames(ROIDat) = as.character(ROIDat [2,]) #Assign row 2 names to the header. ??Not sure why this doesn't work. Should I use the as.character?
ROIDat = ROIDat[-c(1:2), ] #Remove rows 1 and 2.
ROIDat = read.csv("Palm-ROI_12.15.14.csv", sep=",", header=TRUE)
colnames(ROIDat) = as.character(ROIDat [2,]) #Assign row 2 names to the header. ??Not sure why this doesn't work. Should I use the as.character?
ROIDat = read.csv("Palm-ROI_12.15.14.csv", sep=",", header=TRUE)
head (ROIDat)
ROIDat = read.csv("Palm-ROI_new.csv", sep=",", header=TRUE)
ROIDat = read.csv("Palm-ROI_12.15.14.csv", sep=",", header=TRUE)
colnames(ROIDat) = lapply(ROIDat[1,], as.character)
View(ROIDat)
colnames(ROIDat) = lapply(ROIDat[2,], as.character)
ROIDat = ROIDat[-c(1:2), ] #Remove rows 1 and 2.
View(CensusDat)
head (ROIDat) #This data set is organized by county name as the observations.
is.na.data.frame(ROIDat)
class(ROIDat$roi_people)
head(CensusDat)
View(CensusDat)
CensusDat = CensusDat[, -1]
colnames(CensusDat)=c("tract","ACS_MFRENTALS","ACS_Owners","ACS_SF_Rents","LUPAMS","HCIDLA","LUPAMS_RC","HCIDLA_RC")
merge(ROIDat, CensusDat, by="tract")
merge(ROIDat, CensusDat)
class(CensusDat$tract)
class(ROIDat$tract)
as.numeric(ROIDat$tract)
class(ROIDat$tract)
as.numeric(ROIDat$tract)
CensusDat = read.csv("Palm-LosAngelesRentalCensus.csv", sep=",", header=TRUE) #I had deleted the first header row for this csv file. Was running into issue deleting it with R alone.
as.integer(ROIDat$tract) #??Does not acutally convert them to factors.
table(ROIDat)
indx = sapply(ROIDat, is.factor)
ROIDat[indx] = lapply(ROIDat][indx], function(x) as.numeric(as.character(x)))
ROIDat[indx] = lapply(ROIDat[indx], function(x) as.numeric(as.character(x)))
ROIDatTest=lapply(ROIDat, as.numeric)
for the tabs: ROI_12.14.14, City Revenue, JHFIT-places, and JHFIT-nhoods. Decide not to use the ROI_old tab or dictionary tabs. Select the tab “ROI_12.15.14,” save this as a CSV and rename as “Palm-ROI_12.15.14.csv” Remove the first row of meta column header. Then upload to R. Repeat for the other tabs.
#  The Los Angeles Rental Census data:
CensusDat = read.csv("Palm-LosAngelesRentalCensus.csv", sep=",", header=TRUE) #I had deleted the first header row for this csv file. Was running into issue deleting it with R alone.
#  Individual CSV files for the ROI data:
ROIDat = read.csv("Palm-ROI_12.15.14.csv", sep=",", header=TRUE)
CityRevenue = read.csv("Palm-ROI_cityrevenue.csv", sep=",", header=TRUE)
Jplaces = read.csv("Palm-ROI_JHFIT-places.csv", sep=",", header=TRUE)
Jhoods = read.csv("Palm-ROI_JHFIT-nhoods.csv", sep=",", header=TRUE)
#EXAMINE THE DATASETS
#Begin with ROI da
head (ROIDat) #Need to remove the excess headers
colnames(ROIDat) = lapply(ROIDat[2,], as.character)
ROIDatTest=lapply(ROIDat, as.numeric)
View(ROIDat)
CensusDat = read.csv("Palm-LosAngelesRentalCensus.csv", sep=",", header=TRUE) #I had deleted the first header row for this csv file. Was running into issue deleting it with R alone.
#  Individual CSV files for the ROI data:
ROIDat = read.csv("Palm-ROI_12.15.14.csv", sep=",", header=TRUE)
head (ROIDat) #Need to remove the excess headers
colnames(ROIDat) = lapply(ROIDat[2,], as.character) #Assign row 2 names to the header and convert all the column names to character.
View(ROIDat)
ROIDat = ROIDat[-1,]
CensusDat = read.csv("Palm-LosAngelesRentalCensus.csv", sep=",", header=TRUE) #I had deleted the first header row for this csv file. Was running into issue deleting it with R alone.
#  Individual CSV files for the ROI data:
ROIDat = read.csv("Palm-ROI_12.15.14.csv", sep=",", header=TRUE)
CityRevenue = read.csv("Palm-ROI_cityrevenue.csv", sep=",", header=TRUE)
Jplaces = read.csv("Palm-ROI_JHFIT-places.csv", sep=",", header=TRUE)
Jhoods = read.csv("Palm-ROI_JHFIT-nhoods.csv", sep=",", header=TRUE)
#EXAMINE THE DATASETS
#Begin with ROI data
head (ROIDat) #Need to remove the excess headers
colnames(ROIDat) = lapply(ROIDat[2,], as.character)
ROIDat = ROIDat[-c(1:2),]
ROIDatTest=lapply(ROIDat, as.numeric)
indx = sapply(ROIDat, is.factor)
ROIDat[indx] = lapply(ROIDat[indx], function(x) as.numeric(as.character(x))) #What should x be?
warnings()
head(CensusDat)
View(CensusDat)
CensusDat = CensusDat[, -1]
colnames(CensusDat)=c("tract","ACS_MFRENTALS","ACS_Owners","ACS_SF_Rents","LUPAMS","HCIDLA","LUPAMS_RC","HCIDLA_RC") #Change the name in CensusDat from GEOID to tract.
class(CensusDat$tract) #numeric
class(ROIDat$tract) #factor
merge(ROIDat,CensusDat)
rm(ROIDatTest)
ROIDat$rflag_ecppl1
levels(ROIDat$rflag_ecppl1)
levels(ROIDat$rflag_ecppl2)
ROIDat = read.csv("Palm-ROI_12.15.14.csv", sep=",", header=TRUE)
colnames(ROIDat) = lapply(ROIDat[2,], as.character) #Assign row 2 names to the header and convert all the column names to character.
ROIDat = ROIDat[-c(1:2),] #Remove rows 1 and 2.
indx = sapply(ROIDat, is.factor)
ROIDat[indx] = lapply(ROIDat[indx], function(x) as.numeric(as.character(x)))
warnings() #NAs introduced by coercion. This is not a problem, right?
CensusDat = read.csv("Palm-LosAngelesRentalCensus.csv", sep=",", header=TRUE) #I had deleted the first header row for this csv file. Was running into issue deleting it with R alone.
#  Individual CSV files for the ROI data:
ROIDat = read.csv("Palm-ROI_12.15.14.csv", sep=",", header=TRUE)
CityRevenue = read.csv("Palm-ROI_cityrevenue.csv", sep=",", header=TRUE)
Jplaces = read.csv("Palm-ROI_JHFIT-places.csv", sep=",", header=TRUE)
Jhoods = read.csv("Palm-ROI_JHFIT-nhoods.csv", sep=",", header=TRUE)
head (ROIDat) #Need to remove the excess headers
colnames(ROIDat) = lapply(ROIDat[2,], as.character) #Assign row 2 names to the header and convert all the column names to character.
ROIDat = ROIDat[-c(1:2),] #Remove rows 1 and 2.
# LOAD THE DATASETS
#  The two datasets we will be using are:
#  Palm-ROI_downloadable_data.xls
#  Palm-LosAngelesRentalCensus.csv.
#  Note that Palm-ROI_downloadable_data.xls has multiple tabs so we will upload them as separate CSV files. Do this for the tabs: ROI_12.14.14, City Revenue, JHFIT-places, and JHFIT-nhoods. Decide not to use the ROI_old tab or dictionary tabs. Select the tab “ROI_12.15.14,” save this as a CSV and rename as “Palm-ROI_12.15.14.csv” Remove the first row of meta column header. Then upload to R. Repeat for the other tabs.
#  The Los Angeles Rental Census data:
CensusDat = read.csv("Palm-LosAngelesRentalCensus.csv", sep=",", header=TRUE) #I had deleted the first header row for this csv file. Was running into issue deleting it with R alone.
#  Individual CSV files for the ROI data:
ROIDat = read.csv("Palm-ROI_12.15.14.csv", sep=",", header=TRUE)
CityRevenue = read.csv("Palm-ROI_cityrevenue.csv", sep=",", header=TRUE)
Jplaces = read.csv("Palm-ROI_JHFIT-places.csv", sep=",", header=TRUE)
Jhoods = read.csv("Palm-ROI_JHFIT-nhoods.csv", sep=",", header=TRUE)
#EXAMINE THE DATASETS
#Begin with ROI data
head (ROIDat) #Need to remove the excess headers
colnames(ROIDat) = lapply(ROIDat[2,], as.character)
ROIDat = ROIDat[-c(1:2), ] #Remove rows 1 and 2.
CensusDat = read.csv("Palm-LosAngelesRentalCensus.csv", sep=",", header=TRUE) #I had deleted the first header row for this csv file. Was running into issue deleting it with R alone.
#  Individual CSV files for the ROI data:
ROIDat = read.csv("Palm-ROI_12.15.14.csv", sep=",", header=TRUE)
CityRevenue = read.csv("Palm-ROI_cityrevenue.csv", sep=",", header=TRUE)
Jplaces = read.csv("Palm-ROI_JHFIT-places.csv", sep=",", header=TRUE)
Jhoods = read.csv("Palm-ROI_JHFIT-nhoods.csv", sep=",", header=TRUE)
#EXAMINE THE DATASETS
#Begin with ROI data
head (ROIDat) #Need to remove the excess headers
colnames(ROIDat) = lapply(ROIDat[2,], as.character)
CensusDat = read.csv("Palm-LosAngelesRentalCensus.csv", sep=",", header=TRUE) #I had deleted the first header row for this csv file. Was running into issue deleting it with R alone.
ROIDat = read.csv("Palm-ROI_12.15.14.csv", sep=",", header=TRUE)
View(ROIDat)
CensusDat = read.csv("Palm-LosAngelesRentalCensus.csv", sep=",", header=TRUE) #I had deleted the first header row for this csv file. Was running into issue deleting it with R alone.
#  Individual CSV files for the ROI data:
ROIDat = read.csv("Palm-ROI_12.15.14.csv", sep=",", header=TRUE)
View(ROIDat)
CityRevenue = read.csv("Palm-ROI_cityrevenue.csv", sep=",", header=TRUE)
Jplaces = read.csv("Palm-ROI_JHFIT-places.csv", sep=",", header=TRUE)
Jhoods = read.csv("Palm-ROI_JHFIT-nhoods.csv", sep=",", header=TRUE)
head (ROIDat) #Need to remove the excess headers
colnames(ROIDat) = lapply(ROIDat[2,], as.character) #Assign row 2 names to the header and convert all the column names to character.
ROIDat = ROIDat[-c(1:2), ] #Remove rows 1 and 2.
indx = sapply(ROIDat, is.factor)
ROIDat[indx] = lapply(ROIDat[indx], function(x) as.numeric(as.character(x)))
head(CensusDat)
CensusDat = CensusDat[, -1]
colnames(CensusDat)=c("tract","ACS_MFRENTALS","ACS_Owners","ACS_SF_Rents","LUPAMS","HCIDLA","LUPAMS_RC","HCIDLA_RC") #Change the name in CensusDat from GEOID to tract.
class(CensusDat$tract) #numeric
class(ROIDat$tract) #numeric
merge(ROIDat,CensusDat) #Warning: column names ‘rflag_ecppl1’, ‘rflag_ecppl2’ are duplicated in the result. The problem is that there are two columns labeled rlfag_ecppl1 ("Homeownership reliability flag" and "Employment Rate reliability flag") and two columns labeled rlflag_ecppl2 ("Min. Basic Income reliability flag" and "Housing Cost Burden reliability flag"). Go back to the csv file and add an x to differentiate these two. Then re-run the code.
CensusDat = read.csv("Palm-LosAngelesRentalCensus.csv", sep=",", header=TRUE) #I had deleted the first header row for this csv file. Was running into issue deleting it with R alone.
#  Individual CSV files for the ROI data:
ROIDat = read.csv("Palm-ROI_12.15.14.csv", sep=",", header=TRUE)
CityRevenue = read.csv("Palm-ROI_cityrevenue.csv", sep=",", header=TRUE)
Jplaces = read.csv("Palm-ROI_JHFIT-places.csv", sep=",", header=TRUE)
Jhoods = read.csv("Palm-ROI_JHFIT-nhoods.csv", sep=",", header=TRUE)
#EXAMINE THE DATASETS
#Begin with ROI data
head (ROIDat) #Need to remove the excess headers
colnames(ROIDat) = lapply(ROIDat[2,], as.character) #Assign row 2 names to the header and convert all the column names to character.
ROIDat = ROIDat[-c(1:2), ] #Remove rows 1 and 2.
#Transform the variables from factor to numeric
indx = sapply(ROIDat, is.factor)
ROIDat[indx] = lapply(ROIDat[indx], function(x) as.numeric(as.character(x)))
warnings() #NAs introduced by coercion. This is not a problem, right?
#Why didn't this work?: ROIDatTest=lapply(ROIDat, as.numeric)
#Now bring in the Census data
head(CensusDat)
#Remove the first column since this is not linked to anything:
CensusDat = CensusDat[, -1]
#Merge the data
#  Common variable: Census tract identifier. On the CensusDat this is GEOID. On ROIDat this is tract.
colnames(CensusDat)=c("tract","ACS_MFRENTALS","ACS_Owners","ACS_SF_Rents","LUPAMS","HCIDLA","LUPAMS_RC","HCIDLA_RC") #Change the name in CensusDat from GEOID to tract.
class(CensusDat$tract) #numeric
class(ROIDat$tract) #numeric
merge(ROIDat,CensusDat) #Warning: column names ‘rflag_ecppl1’, ‘rflag_ecppl2’ are duplicated in the result. The problem is that there are two columns labeled rlfag_ecppl1 ("Homeownership reliability flag" and "Employment Rate reliability flag") and two columns labeled rlflag_ecppl2 ("Min. Basic Income reliability flag" and "Housing Cost Burden reliability flag"). Go back to the csv file and add an x to differentiate these two. Then re-run the code.
MergedDat=merge(ROIDat,CensusDat) #Warning: column names ‘rflag_ecppl1’, ‘rflag_ecppl2’ are duplicated in the result. The problem is that there are two columns labeled rlfag_ecppl1 ("Homeownership reliability flag" and "Employment Rate reliability flag") and two columns labeled rlflag_ecppl2 ("Min. Basic Income reliability flag" and "Housing Cost Burden reliability flag"). Go back to the csv file and add an x to differentiate these two. Then re-run the code.
View(MergedDat)
View(MergedDat)
View(MergedDat)
137+8
head(CityRevenue)
colnames(CityReveneu)=c("CityName","cntyname","TotalRevenue","LocalRevenue","pLocalRevenue","TotalRevPerCap","TotalPop","TotalPopMOE") #Change the name of the second row header.
colnames(CityRevenue)=c("CityName","cntyname","TotalRevenue","LocalRevenue","pLocalRevenue","TotalRevPerCap","TotalPop","TotalPopMOE") #Change the name of the second row header.
MergedDat2=merge(CityRevenue,MergedDat, by="cntyname")
as.factor(MergedDat$cntyname)
CensusDat = read.csv("Palm-LosAngelesRentalCensus.csv", sep=",", header=TRUE) #I had deleted the first header row for this csv file. Was running into issue deleting it with R alone.
#  Individual CSV files for the ROI data:
ROIDat = read.csv("Palm-ROI_12.15.14.csv", sep=",", header=TRUE)
CityRevenue = read.csv("Palm-ROI_cityrevenue.csv", sep=",", header=TRUE)
Jplaces = read.csv("Palm-ROI_JHFIT-places.csv", sep=",", header=TRUE)
Jhoods = read.csv("Palm-ROI_JHFIT-nhoods.csv", sep=",", header=TRUE)
#EXAMINE THE DATASETS
#Begin with ROI data
head (ROIDat) #Need to remove the excess headers
colnames(ROIDat) = lapply(ROIDat[2,], as.character)
View(ROIDat)
ROIDat = ROIDat[-c(1:2), ] #Remove rows 1 and 2.
head(CensusDat)
CensusDat = CensusDat[, -1]
colnames(CensusDat)=c("tract","ACS_MFRENTALS","ACS_Owners","ACS_SF_Rents","LUPAMS","HCIDLA","LUPAMS_RC","HCIDLA_RC") #Change the name in CensusDat from GEOID to tract.
class(CensusDat$tract) #numeric
class(ROIDat$tract) #numeric
ROIDat$tract = factor(ROIDat$tract)
class(ROIDat$tract) #factor. Change to numeric:
ROIDat$tract = numeric(ROIDat$tract)
ROIDat$tract = as.numeric(ROIDat$tract)
class(ROIDat$tract) #factor. Change to numeric:
MergedDat=merge(ROIDat,CensusDat, by="tract") #Warning: column names ‘rflag_ecppl1’, ‘rflag_ecppl2’ are duplicated in the result. The problem is that there are two columns labeled rlfag_ecppl1 ("Homeownership reliability flag" and "Employment Rate reliability flag") and two columns labeled rlflag_ecppl2 ("Min. Basic Income reliability flag" and "Housing Cost Burden reliability flag"). Go back to the csv file and add an x to differentiate these two. Then re-run the code.
MergedDat=merge(ROIDat,CensusDat) #Warning: column names ‘rflag_ecppl1’, ‘rflag_ecppl2’ are duplicated in the result. The problem is that there are two columns labeled rlfag_ecppl1 ("Homeownership reliability flag" and "Employment Rate reliability flag") and two columns labeled rlflag_ecppl2 ("Min. Basic Income reliability flag" and "Housing Cost Burden reliability flag"). Go back to the csv file and add an x to differentiate these two. Then re-run the code.
CensusDat = read.csv("Palm-LosAngelesRentalCensus.csv", sep=",", header=TRUE) #I had deleted the first header row for this csv file. Was running into issue deleting it with R alone.
#  Individual CSV files for the ROI data:
ROIDat = read.csv("Palm-ROI_12.15.14.csv", sep=",", header=TRUE)
CityRevenue = read.csv("Palm-ROI_cityrevenue.csv", sep=",", header=TRUE)
Jplaces = read.csv("Palm-ROI_JHFIT-places.csv", sep=",", header=TRUE)
Jhoods = read.csv("Palm-ROI_JHFIT-nhoods.csv", sep=",", header=TRUE)
#EXAMINE THE DATASETS
#Begin with ROI data
head (ROIDat) #Need to remove the excess headers
colnames(ROIDat) = lapply(ROIDat[2,], as.character) #Assign row 2 names to the header and convert all the column names to character.
ROIDat = ROIDat[-c(1:2), ] #Remove rows 1 and 2.
#Now bring in the Census data
head(CensusDat)
#Remove the first column since this is not linked to anything:
CensusDat = CensusDat[, -1]
#Merge the data
#  Common variable: Census tract identifier. On the CensusDat this is GEOID. On ROIDat this is tract.	Census tract identification number is a Geographic identifier.
colnames(CensusDat)=c("tract","ACS_MFRENTALS","ACS_Owners","ACS_SF_Rents","LUPAMS","HCIDLA","LUPAMS_RC","HCIDLA_RC") #Change the name in CensusDat from GEOID to tract.
class(CensusDat$tract) #numeric
class(ROIDat$tract) #factor. Change to numeric:
ROIDat$tract = as.numeric(ROIDat$tract)
class(ROIDat$tract) #numeric.
CensusDat = read.csv("Palm-LosAngelesRentalCensus.csv", sep=",", header=TRUE) #I had deleted the first header row for this csv file. Was running into issue deleting it with R alone.
#  Individual CSV files for the ROI data:
ROIDat = read.csv("Palm-ROI_12.15.14.csv", sep=",", header=TRUE)
CityRevenue = read.csv("Palm-ROI_cityrevenue.csv", sep=",", header=TRUE)
Jplaces = read.csv("Palm-ROI_JHFIT-places.csv", sep=",", header=TRUE)
Jhoods = read.csv("Palm-ROI_JHFIT-nhoods.csv", sep=",", header=TRUE)
#EXAMINE THE DATASETS
#Begin with ROI data
head (ROIDat) #Need to remove the excess headers
colnames(ROIDat) = lapply(ROIDat[2,], as.character) #Assign row 2 names to the header and convert all the column names to character.
ROIDat = ROIDat[-c(1:2), ] #Remove rows 1 and 2.
#Now bring in the Census data
head(CensusDat)
#Remove the first column since this is not linked to anything:
CensusDat = CensusDat[, -1]
#Merge the data
#  Common variable: Census tract identifier. On the CensusDat this is GEOID. On ROIDat this is tract.	Census tract identification number is a Geographic identifier.
colnames(CensusDat)=c("tract","ACS_MFRENTALS","ACS_Owners","ACS_SF_Rents","LUPAMS","HCIDLA","LUPAMS_RC","HCIDLA_RC") #Change the name in CensusDat from GEOID to tract.
class(CensusDat$tract) #numeric
class(ROIDat$tract) #factor. Change to numeric:
ROIDat$tract = as.numeric(ROIDat$tract)
class(ROIDat$tract) #numeric.
View(ROIDat)
View(CensusDat)
CensusDat = read.csv("Palm-LosAngelesRentalCensus.csv", sep=",", header=TRUE) #I had deleted the first header row for this csv file. Was running into issue deleting it with R alone.
#  Individual CSV files for the ROI data:
ROIDat = read.csv("Palm-ROI_12.15.14.csv", sep=",", header=TRUE)
CityRevenue = read.csv("Palm-ROI_cityrevenue.csv", sep=",", header=TRUE)
Jplaces = read.csv("Palm-ROI_JHFIT-places.csv", sep=",", header=TRUE)
Jhoods = read.csv("Palm-ROI_JHFIT-nhoods.csv", sep=",", header=TRUE)
#EXAMINE THE DATASETS
#Begin with ROI data
head (ROIDat) #Need to remove the excess headers
colnames(ROIDat) = lapply(ROIDat[2,], as.character) #Assign row 2 names to the header and convert all the column names to character.
ROIDat = ROIDat[-c(1:2), ] #Remove rows 1 and 2.
#Now bring in the Census data
head(CensusDat)
#Remove the first column since this is not linked to anything:
CensusDat = CensusDat[, -1]
#Merge the data
#  Common variable: Census tract identifier. On the CensusDat this is GEOID. On ROIDat this is tract.	Census tract identification number is a Geographic identifier.
colnames(CensusDat)=c("tract","ACS_MFRENTALS","ACS_Owners","ACS_SF_Rents","LUPAMS","HCIDLA","LUPAMS_RC","HCIDLA_RC") #Change the name in CensusDat from GEOID to tract.
class(CensusDat$tract) #numeric
class(ROIDat$tract) #factor. Change to numeric:
View(ROIDat)
class(ROIDat$tract) #factor. Change to numeric:
MergedDat=merge(ROIDat,CensusDat) #Warning: column names ‘rflag_ecppl1’, ‘rflag_ecppl2’ are duplicated in the result. The problem is that there are two columns labeled rlfag_ecppl1 ("Homeownership reliability flag" and "Employment Rate reliability flag") and two columns labeled rlflag_ecppl2 ("Min. Basic Income reliability flag" and "Housing Cost Burden reliability flag"). Go back to the csv file and add an x to differentiate these two. Then re-run the code.
View(MergedDat)
head(CityRevenue)
colnames(CityRevenue)=c("CityName","cntyname","TotalRevenue","LocalRevenue","pLocalRevenue","TotalRevPerCap","TotalPop","TotalPopMOE") #Change the name of the second row header.
CityRevenueLA = subset (CityRevenue, cntyname="Los Angeles", )
View(CityRevenueLA)
rm(CityRevenueLA)
CityRevenueLA = CityRevenue[which(cntyname="Los Angeles")]
colnames(CityRevenue)=c("CityName","cntyname","TotalRevenue","LocalRevenue","pLocalRevenue","TotalRevPerCap","TotalPop","TotalPopMOE") #Change the name of the second row header.
CityRevenueLA = CityRevenue[which(cntyname="Los Angeles")]
CityRevenueLA2 = subset (CityRevenue, cntyname="Los Angeles")
View(CityRevenueLA2)
CityRevenueLA2 = subset (CityRevenue, cntyname=="Los Angeles")
View(CityRevenueLA2)
rm(CityRevenueLA)
CityRevenueLA = subset (CityRevenue, cntyname=="Los Angeles")
rm(CityRevenueLA2)
View(MergedDat)
MergedDat2=merge(CityRevenueLA,MergedDat, by="cntyname")
View(MergedDat2)
View(MergedDat2)
View(MergedDat2)
View(CityRevenueLA)
View(ROIDat)
View(CityRevenue)
View(CityRevenueLA)
View(MergedDat)
View(CityRevenue)
View(ROIDat)
as.numeric(factor(ROIDat))
ROIDat = read.csv("Palm-ROI_12.15.14.csv", sep=",", header=TRUE, stringsAsFactors=FALSE)
as.numeric(factor(ROIDat))
View(MergedDat)
